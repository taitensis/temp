---
import { useTranslations, getLocalizedUrl } from '@/lib/i18n';
import { Facebook, Twitter, Instagram, Mail } from 'lucide-astro';
import type { Language } from '@/lib/types';

interface Props {
  lang: Language;
}

const { lang } = Astro.props;
const t = useTranslations(lang);
const year = new Date().getFullYear();
---

<footer class="bg-card border-t mt-auto">
  <div class="container mx-auto px-4 py-12">
    <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
      <!-- Brand -->
      <div class="md:col-span-1">
        <h3 class="text-xl font-bold mb-4 text-primary">{t.site.name}</h3>
        <p class="text-sm text-muted-foreground mb-4">{t.site.tagline}</p>
        <p class="text-xs text-muted-foreground">
          Â© {year} {t.site.copyright}
        </p>
      </div>

      <!-- Quick Links -->
      <div>
        <h4 class="font-semibold mb-4">{t.footer.quickLinks}</h4>
        <ul class="space-y-2 text-sm">
          <li>
            <a href={getLocalizedUrl(lang, '/recipes')} 
               class="text-muted-foreground hover:text-primary transition-colors">
              {t.nav.recipes}
            </a>
          </li>
          <li>
            <a href={getLocalizedUrl(lang, '/categories')} 
               class="text-muted-foreground hover:text-primary transition-colors">
              {t.nav.categories}
            </a>
          </li>
          <li>
            <a href={getLocalizedUrl(lang, '/seasonal')} 
               class="text-muted-foreground hover:text-primary transition-colors">
              {t.nav.seasonal}
            </a>
          </li>
          <li>
            <a href={getLocalizedUrl(lang, '/about')} 
               class="text-muted-foreground hover:text-primary transition-colors">
              {t.nav.about}
            </a>
          </li>
        </ul>
      </div>

      <!-- Legal -->
      <div>
        <h4 class="font-semibold mb-4">{t.footer.legal}</h4>
        <ul class="space-y-2 text-sm">
          <li>
            <a href={getLocalizedUrl(lang, '/terms')} 
               class="text-muted-foreground hover:text-primary transition-colors">
              {t.footer.terms}
            </a>
          </li>
          <li>
            <a href={getLocalizedUrl(lang, '/privacy')} 
               class="text-muted-foreground hover:text-primary transition-colors">
              {t.footer.privacy}
            </a>
          </li>
        </ul>
      </div>

      <!-- Contact / Social -->
      <div>
        <h4 class="font-semibold mb-4">{t.footer.contact}</h4>
        <div class="flex space-x-3">
          <a href="https://facebook.com" 
             aria-label="Facebook"
             class="p-2 rounded-full bg-muted hover:bg-primary hover:text-primary-foreground transition-colors">
            <Facebook class="w-4 h-4" />
          </a>
          <a href="https://twitter.com" 
             aria-label="Twitter"
             class="p-2 rounded-full bg-muted hover:bg-primary hover:text-primary-foreground transition-colors">
            <Twitter class="w-4 h-4" />
          </a>
          <a href="https://instagram.com" 
             aria-label="Instagram"
             class="p-2 rounded-full bg-muted hover:bg-primary hover:text-primary-foreground transition-colors">
            <Instagram class="w-4 h-4" />
          </a>
          <a href="mailto:contact@example.com" 
             aria-label="Email"
             class="p-2 rounded-full bg-muted hover:bg-primary hover:text-primary-foreground transition-colors">
            <Mail class="w-4 h-4" />
          </a>
        </div>
      </div>
    </div>

    <!-- Bottom Bar -->
    <div class="mt-8 pt-8 border-t border-border">
      <p class="text-center text-xs text-muted-foreground">
        {t.site.madeWith}
      </p>
    </div>
  </div>
</footer>